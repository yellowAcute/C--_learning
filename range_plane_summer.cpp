#include ".\inc\Range_Plane.h"
using  namespace std;


void rangeCondition( ){

}

 
// ????????HM??????????????km??????????8~12um??summer?????12??00, ???????50%
int main(int argc, char const *argv[])
{   

    //  HM????????????????
    const double T_gap_Left_background=abs(T_HM_left-TB);
    const double T_gap_Right_background=abs(T_HM_right-TB);

    // ?????????
    selectPrecent(precent = 80);

    //  HM??????????????
    getDistance(Range_plane_HM, Distance);
    

    cout << "summer, ???: 7??20??12:00, ???????HM, ???" 
            << "\n??????: " << f 
            << "\n??????: " << precent << "%" << endl << endl;
    for (auto s : stripe)
    {
    //  ??????????????
        double m_x = getM_X(s);
        double m_y = getM_Y(s);

        //  ???????????MTRD
        MRTD_x=sqrt(7/m_x) * (SNR/SNR_DT)*pow(TB/TL, 2) * MRTD_x_2;
        MRTD_y=sqrt(7/m_y) * (SNR/SNR_DT)*pow(TB/TL, 2) * MRTD_y_2;
        
        // ??????????????????
        double heightMax = f * Height / s;
        
        cout << "ne = " << s << endl;
        cout << "????????? <= " << heightMax  << "km" << endl;
        
        // HM????????MRTD?????????   
        cout << "HM??????????: " << endl;
        transmissionMin(T_gap_Left_background);
        cout << "HM??????????: " << endl;
        transmissionMin(T_gap_Right_background);
        

        for (int i = Range_plane_HM.size() - 1; i >= 0; i--)
        {
            if(Range_plane_HM[i]<= heightMax)
            {
                cout  << "?????????R = " << Range_plane_HM[i] << "km" 
                            << ", ?????? = " << Distance[i] << "km"
                            << ", ??????????" << transmission[i] << endl;
                cout << endl;

                break;
            }
        }

        cout << endl;
    }
    
    return 0;
}
    


